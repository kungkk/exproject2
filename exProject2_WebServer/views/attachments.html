{% extends 'z_layout.html' %}

{% block content %}
{% if layout == "default" %}
<section class="content-header">
    <h1>
        <i class="fa fa-calendar"></i>&nbsp;&nbsp;<span my-translator>Attachments</span>
    </h1>
</section>
{% endif %}


{% if layout == "ajax" %}
<div class="row" style="padding:0 20px 0 0;">
    <section class="content">
        <table datatable="ng" dt-options="dtOptions" dt-columns="dtColumnDefs" class="table table-striped table-bordered table-hover ng-table-responsive" my-data-table>
            <thead>
                <tr>
                    <th style="width:1%;"></th>
                    <th><span my-translator>File Name</span></th>
                    <th><span my-translator>Created</span></th>
                    <th><span my-translator>Created By</span></th>
                </tr>
            </thead>
            <tbody>
                <tr data-ng-repeat="attachment in attachments">
                    <td>
                        <a class="pointer" data-ng-click="delete_attachment(attachment.item_id, attachment.id, attachment.file_name)" title="Delete this attachment." style="color:red;"><i class="fa fa-remove"></i></a>
                    </td>
                    <td><a class="pointer" href="/uploads/{% raw %}{{attachment.file_name}}{% endraw %}" target="{% raw %}{{attachment.file_name}}{% endraw %}"><span data-ng-bind="attachment.file_name | filterFileName "></span></a></td>
                    <td data-ng-bind="attachment.created | date:'yyyy-MM-dd HH:mm a' : 'UTC'"></td>
                    <td data-ng-bind="attachment.Creator.username"></td>
                </tr>
            </tbody>
        </table>
    </section>
</div>
{% endif %}

{% endblock %}