{% extends 'z_layout.html' %}

{% block content %}
<section class="content-header">
    <h1>
        <i class="fa fa-calendar"></i>&nbsp;&nbsp;<span my-translator>Monthly Plans</span>
    </h1>
</section>

<div class="row" data-ng-controller="plan_controller" ngcd_plan="html" style="padding:0 10px 10px 10px;"></div>
<div class="row" data-ng-controller="plans_controller">
    <section class="content">
        <table datatable="ng" dt-options="dtOptions" dt-columns="dtColumnDefs" class="table table-striped table-bordered table-hover ng-table-responsive" my-data-table>
            <thead>
                <tr>
                    <th><span my-translator>Year</span></th>
                    <th><span my-translator>Month</span></th>
                    <th><span my-translator>Created</span></th>
                    <th><span my-translator>Created By</span></th>
                    <th><span my-translator>Modified</span></th>
                    <th><span my-translator>Modified By</span></th>
                </tr>
            </thead>
            <tbody>
                <tr data-ng-repeat="plan in plans">
                    <td data-ng-bind="plan.year"></td>
                    <td>
                        <a href="/plan/{% raw %}{{plan.id}}{% endraw %}" data-ng-if="plan.month == month.value" data-ng-bind="month.name" data-ng-repeat="month in months"></a>
                    </td>
                    <td data-ng-bind="plan.created | date:'yyyy-MM-dd HH:mm a'"></td>
                    <td data-ng-bind="plan.Creator.username"></td>
                    <td data-ng-bind="plan.modified | date:'yyyy-MM-dd HH:mm a'"></td>
                    <td data-ng-bind="plan.Modifier.username"></td>
                </tr>
            </tbody>
        </table>
    </section>
</div>

<script src="/javascripts/controllers/plan.js"></script>
<script src="/javascripts/controllers/plans.js"></script>
{% endblock %}